# Что в этом файле


### Логика популярных фильмов и общих друзей

По ТЗ добавляем ```FilmDBStorage``` и ```UserDBStorage```, в ```FilmService``` и ```UserService``` ничего менять не просят. 
Обработка популярных фильмов и общих друзей осталась в прежних сервисах, так как живы ```InMemory..Storage```.
Данные для обработки собираются из таблиц, хотя оттуда можно было бы брать сразу данные, если дропнуть ```InMemory..Storage```.

Пример топ 10 фильмов:
```
SELECT film_name.films
FROM films
WHERE film_id IN (SELECT film_id.likes
                  FROM likes
                  GROUP BY film_id
                  ORDER BY SUM(user_id) DESC
                  LIMIT 10);
```

### О дружбе пользователей в ТЗ и проекте

В промежуточном ТЗ и ТЗ 11 очень неоднозначно написано как теперь работает дружба.
По тестам Postman oна осталась односторонней.

В целом из таблицы ```FRIENDS``` в этом проекте можно вывести список общих подтвержденных друзей используя несколько джойнов. 
Но тогда тесты Postman не пройдут.

Реализовал под тесты Postman.

### ER_model

Для самопроверки схема выложена тут: [ER-model](https://github.com/ku-alexej/er_model)

Обратная связь и измененная схема выложены в конце файла ```README.md``` в репозитории схемы.
